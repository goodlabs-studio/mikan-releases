# ===========================================
# Mikan Docker Compose Environment Variables
# ===========================================
# Copy this file to .env and fill in the values

# -----------------
# Image Settings
# -----------------
# Docker image tag (latest, staging, or version like 1.0.0)
IMAGE_TAG=staging

# -----------------
# Database Settings
# -----------------
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=mikan
# Set to 'true' for external databases (e.g., AWS RDS), 'false' for local Docker database
DATABASE_SSL=false
# For external database: set the full connection string or host
# DATABASE_HOST=your-rds-endpoint.amazonaws.com

# -----------------
# API Settings
# -----------------
NODE_ENV=production
PORT=3333

# CORS allowed origins (comma-separated for multiple)
CORS_ALLOWED_ORIGINS=http://localhost:3000

# -----------------
# Confluent Kafka
# -----------------
CONFLUENT_MANAGEMENT_API_KEY=
CONFLUENT_MANAGEMENT_API_SECRET=

# -----------------
# Encryption
# -----------------
ENCRYPTION_KEY=

# -----------------
# Azure AD (Optional)
# -----------------
AZURE_CLIENT_ID=
AZURE_CLIENT_SECRET=
AZURE_TENANT_ID=

# -----------------
# Frontend App
# -----------------
REACT_APP_API_URL=http://localhost:3333

# -----------------
# Data Storage
# -----------------
DATA_FOLDER=./data

# -----------------
# Cron Settings
# -----------------
# NOTE: When using Docker Compose, cron settings are managed by the mikan-cron container.

# API endpoint for consumer offset collector
# For Docker Compose: use service name 'api' (e.g., http://api:3333)
# For standalone/AWS ECS: use full URL (e.g., https://your-api.com)
API_ENDPOINT=http://api:3333

# Path to kafka-consumer-groups script inside the container
KAFKA_CONSUMER_GROUPS_SCRIPT=/usr/bin/kafka-consumer-groups

# Path to consumer-offsets.sh script
# Docker: /app/consumer-offsets.sh
# Standalone: ./mikan-cron/consumer-offsets.sh
CONSUMER_OFFSETS_SCRIPT=/app/consumer-offsets.sh

# Consumer offset collection interval in seconds (default: 3600 = 1 hour)
COLLECTION_INTERVAL=3600

# Directory for storing agent credentials
CREDENTIALS_DIR=/app/credentials

